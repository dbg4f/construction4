<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="1200" height="1000" style="border:1px solid #d3d3d3;">
    Your browser does not support the HTML5 canvas tag.</canvas>

<script>

    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");

	var drawingArea = {width:1000, height:1000};
	
	var centerPoint = {x: 100, y:800};
	
	var centerPointMeters = {x: 0, y:0};
	
	var meterScale = 150;// px per meter
	
	function transform(point) {
		return {x: point.x + centerPoint.x, y: centerPoint.y - point.y };
	}

	function transformFromMeters(pointMeters) {
		
		var point = {x:pointMeters.x * meterScale, y:pointMeters.y * meterScale}
		
		return {x: point.x + centerPoint.x, y: centerPoint.y - point.y };
	}

	
	function drawSection(point1, point2) {
		ctx.moveTo(point1.x, point1.y);
		ctx.lineTo(point2.x, point2.y);
		ctx.stroke();
	}

	function pointMoveXY(point, distanceX, distanceY) {
		return {x: point.x + distanceX, y: point.y + distanceY}
	}

	function drawText(point, text) {
		ctx.fillText(text ,point.x, point.y);
	}
	
	function drawMeterX(pointMeters1, markerLenPx, text) {
		var startingPoint = transformFromMeters(pointMeters1);
		var endPoint = pointMoveXY(startingPoint, meterScale, 0);
		drawSection(startingPoint, endPoint);
		var endPointMarker = pointMoveXY(endPoint, 0,markerLenPx);
		drawSection(endPoint, endPointMarker);
		var endPointText = pointMoveXY(endPointMarker, markerLenPx,markerLenPx);
		drawText(endPointText, text);		
	}

	function drawMeterY(pointMeters1, markerLenPx, text) {
		var startingPoint = transformFromMeters(pointMeters1);
		var endPoint = pointMoveXY(startingPoint, 0, -meterScale);
		drawSection(startingPoint, endPoint);
		var endPointMarker = pointMoveXY(endPoint, -markerLenPx, 0);
		drawSection(endPoint, endPointMarker);
		var endPointText = pointMoveXY(endPointMarker, -markerLenPx, -markerLenPx);
		drawText(endPointText, text);		
	}
	
	function drawSectionMeters(point1, point2) {
		drawSection(transformFromMeters(point1), transformFromMeters(point2));
	}

	function drawTextMeters(point, text) {
		drawText(transformFromMeters(point), text);
	}
	
	function drawAxes(metersX, metersY) {
				
		for (i=0; i<metersX; i++) {
			drawMeterX({x:i, y:0}, 10, ""+(i+1))
		}

		for (i=0; i<metersY; i++) {
			drawMeterY({x:0, y:i}, 10, ""+(i+1))
		}
		
	}


	function drawRectMeters(dimensions, point) {		
		drawSectionMeters(point, pointMoveXY(point, dimensions.x, 0));
		drawSectionMeters(pointMoveXY(point, dimensions.x, 0), pointMoveXY(point, dimensions.x, dimensions.y));
		drawSectionMeters(pointMoveXY(point, dimensions.x, dimensions.y), pointMoveXY(point, 0, dimensions.y));
		drawSectionMeters(pointMoveXY(point, 0, dimensions.y), point);		
	}
	
	
	function center(dimensions, point) {
		return {x:point.x + dimensions.x / 2, y:point.y + dimensions.y / 2};
	}
	
	function drawRoom(dimensions, point, text) {
		drawRectMeters(dimensions, point);
		if (text != null) {
			drawTextMeters(center(dimensions, point), text + " " + (dimensions.x * dimensions.y));
		}
		
	}

	function drawBrick(dimensions, point) {
		drawRectMeters(dimensions, point);
	}
	
	function drawBrickLineX(startPoint, dimensions, count) {
		var point = startPoint;
		for (i=0; i<count; i++) {
			drawBrick(dimensions, point);
			point = pointMoveXY(point, dimensions.x, 0);
		}
		return point.x;
	}

	function drawBrickLineY(startPoint, dimensions, count) {
		var point = startPoint;
		for (i=0; i<count; i++) {
			drawBrick(dimensions, point);
			point = pointMoveXY(point, 0, dimensions.y);
		}
		return point.y;
	}



	drawAxes(8, 5);

    var blockWidth = 0.375; // 0.6 - 0.375 = 0.225
    var wallkWidth = 0.15;



	var rooms 		= false;
	var brickWallX 	= false;
	var brickWallY 	= false;
	var bricks 		= true;


	if (rooms) {

		drawRoom({x:5,y:4}, {x:0,y:0});
		drawRoom({x:5 + 2 * blockWidth,y:4 + 2 * blockWidth}, {x:-blockWidth,y:-blockWidth});

		drawRoom({x:2,y:1.5 - wallkWidth},      {x:0,y:2.5 + wallkWidth}, "leiliruum");
		drawRoom({x:2,y:1 - wallkWidth / 2},    {x:0,y:1.5 + wallkWidth / 2}, "bath");
		drawRoom({x:1,y:1.5 - wallkWidth / 2},  {x:0,y:0}, "WC");
		drawRoom({x:1,y:1.5 - wallkWidth / 2},  {x:1,y:0}, "tambur");

		drawRoom({x:3 - wallkWidth,y:4},  {x:2 + wallkWidth,y:0}, "livingroom");

	}

	var brickHeight = 0.2;
	var brickLength = 0.6;

	var fullBrick = {x:brickLength, y:brickHeight};
	var fullBrickEnd = {x:blockWidth, y:brickHeight};




		if (bricks) {

			var sizes = {x:9, y:8};

			var startPoint = {x:-blockWidth, y:-blockWidth};

			var sizesX = {x: brickLength, y: blockWidth};
			var sizesY = {x: blockWidth, y: brickLength};

			var endX = drawBrickLineX(startPoint, sizesX, sizes.x);
			var endY = drawBrickLineY({x:-blockWidth, y:0}, sizesY, sizes.y);

			drawBrickLineX({x:0, y:endY-blockWidth}, sizesX, sizes.x);
			drawBrickLineY({x:endX, y:-blockWidth}, sizesY, sizes.y);





		}





</script>

</body>
</html>
